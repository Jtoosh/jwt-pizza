# Incident: 2025-12-01 08:33:27

## Summary

Between the hours of 08:33 and 10:14 GMT on December 1, 2025, approximately 20 users experienced pizza order failures when ordering JWT pizzas. This event was triggered by an intentional chaos testing run that was triggered the night before, at approximately 21:00 PM GMT on November 30, 2025. This chaos testing is what caused the failure of JWT Pizza orders.

This event was detected by the Grafana monitoring system, which alerted the on-call engineer that no data was being received for the pizza order latency metric. This was due to no orders being fulfilled succesfully from the Pizza Factory. The abscense of data triggered an alert, which led to the investigation. The on-call engineer began working on the incident by examining the pizza order latency metrics, then observing the HTTP and error logs for the JWT pizza service. Investigating the logs for the order POST requests revealed the link that was needed to end the chaos testing and restore service.

## Detection

This incident was detected when the default level alert was texted to the JWT Pizza DevOps team, which consisted of the on-call engineer James Teuscher (username jtoosh).

Mr. Teuscher was involved in another task when the alert was received, so 5 minutes later an important level alert was sent to the team through a Grafana OnCall push notification. However, the issue resolved itself, and then resurface 2 more times before Mr. Teuscher was able to respond to the alert and begin investigating the issue.

It is important to note that the errors indicating the Pizza order failures were not being reported in the error logs, only in the HTTP logs, which were larger and more difficult to parse. This will need to be improved in the future to allow for faster identification of similar issues.

To improve response time in the future, the team will assign multiple on-call engineers to the JWT Pizza service, so that if one engineer is busy, another can respond to alerts, avoiding the issue experienced during this incident.

## Impact

For 1 hour and 41 minutes between 08:33 GMT and 10:14 GMT on 12/01/2025, about 11 users attempting to order JWT pizzas experienced failures when submitting their orders.

This incident had a revenue impact of approximately ₿0.55, or $46,703.69 USD. 11 valid requests were made for Veggie pizzas, at ₿.05 each.

It should be noted that 20 order requests failed during this window, but 7 of those were invalid requests for more than 20 pizzas, which is outside of the allowed order limits. Thus, only 11 normally valid orders were affected.

## Timeline

All times are GMT.

- _2025-11-30 21:00_ - Chaos testing run is initiated against JWT Pizza order fulfillment service.
- _2025-12-01 08:33_ - Grafana monitoring system detects absence of data for pizza order latency metric, triggering default level alert to JWT Pizza DevOps team. SMS alert is sent to on-call engineer James Teuscher.
- _2025-12-01 08:38_ - Important level alert is sent to JWT Pizza DevOps team after no response to default alert. Push notification is sent to James Teuscher and the incident is acknowledged.
- _2025-12-01 08:43_ - The data absence resolves itself, and pizza order latency metric data resumes.
- _2025-12-01 08:49_ - Grafana monitoring system again detects absence of data for pizza order latency metric, triggering a second default level alert to JWT Pizza DevOps team. SMS alert is sent to James Teuscher.
- _2025-12-01 08:50_ - The second incident is acknowledged by James Teuscher.
- _2025-12-01 08:54_ - The data absence resolves itself again, and pizza order latency metric data resumes.
- _2025-12-01 09:20_ - Grafana monitoring system detects absence of data for pizza order latency metric for a third time, triggering a third default level alert to JWT Pizza DevOps team. SMS alert is sent to  James Teuscher.
- _2025-12-01 09:21_ - The third incident is acknowledged by James Teuscher.
- _2025-12-01 09:55_ - James Teuscher begins investigating the pizza order latency metric absence by examining HTTP and error logs for the JWT Pizza service. It is discovered that pizza orders are not being fulfilled.
- _2025-12-01 10:09_ - Investigation of logs reveals the chaos testing link that was causing the order fulfillment failures. Chaos testing is ended, restoring normal service.
- _2025-12-01 10:14_ - Pizza order latency metric data resumes, orders resume being fulfilled stably, and incident is resolved.

## Response

After receiving the initial alert at 08:33 GMT, on-call engineer James Teuscher was unable to acknowledge the incident for 5 minutes due to being occupied with another task. James was preoccupied for roughly the next hour, during which time the incident resolved itself twice before resurfacing a third time at 09:20 GMT. At 09:21 GMT, James acknowledged the incident and began investigating the issue at 09:55 GMT.

James had the required skills and training to investigate and resolve the incident, but being the sole on-call engineer for the JWT Pizza service led to delays in response time.

## Root Cause

An issue with the pizza factory, an external dependency that the JWT Pizza service Dev team does not have control over, caused the pizza order fulfillment failures. The issue was triggered by an intentional chaos testing run. The failure in the pizza factory caused the JWT Pizza service to be unable to fulfill orders.

## Resolution

The issue was resolved by identifying the error messages in the HTTP logs, and using the link provided by Chaos Monkey to end the chaos testing run.

## Prevention

This same root cause has not cause any prior incidents. To prevent this class of incident from happening again, the JWT Pizza DevOps team will investigate the creation of their own pizza factory, removing the external dependency that caused this incident. 

## Action Items

1. Improve error logging for JWT Pizza service to ensure that pizza order failures are logged in the error logs, not just the HTTP logs. Lead Engineer Mary Williams (801-555-5555) will be responsible for this action item, with a due date of 2025-12-10.
2. Assign multiple on-call engineers to the JWT Pizza service to improve response times to alerts. Manager John Smith (801-111-1111) will be responsible for this action item, with a due date of 2025-12-15.
3. Create a transaction rollback mechanism for pizza orders, so that if an order fails, the user is not charged. Lead Developer Alice Johnson (801-222-2222) will be responsible for this action item, with a due date of 2026-01-15.
4. Investigate the creation of an in-house pizza factory to remove the external dependency that caused this incident. CTO Robert Brown (801-333-3333) will be responsible for this action item, with a due date of 2026-03-01.
